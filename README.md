# üéÆ Variants Telegram Game Bot

Telegram –±–æ—Ç –¥–ª—è –≥—Ä–∏ "–í–∞—Ä—ñ–∞–Ω—Ç–∏" ‚Äî –≤–µ—Å–µ–ª–∞ –≥—Ä—É–ø–æ–≤–∞ –≥—Ä–∞, –¥–µ —É—á–∞—Å–Ω–∏–∫–∏ –≤–∏–≥–∞–¥—É—é—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ, –∞–ª–µ –ø—Ä–∞–≤–¥–æ–ø–æ–¥—ñ–±–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è, –∞ –ø–æ—Ç—ñ–º –Ω–∞–º–∞–≥–∞—é—Ç—å—Å—è –≤–≥–∞–¥–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å —Å–µ—Ä–µ–¥ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ —ñ–Ω—à–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤.

## üéØ –Ø–∫ –≥—Ä–∞—Ç–∏

1. **–î–æ–¥–∞–π—Ç–µ –±–æ—Ç–∞ –¥–æ –≥—Ä—É–ø–∏** —ñ –¥–∞–π—Ç–µ –π–æ–º—É –ø—Ä–∞–≤–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
2. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –≥—Ä—É** –∫–æ–º–∞–Ω–¥–æ—é `/game`
3. **–ë–æ—Ç –≥–µ–Ω–µ—Ä—É—î –ø–∏—Ç–∞–Ω–Ω—è** –Ω–∞ –æ—Å–Ω–æ–≤—ñ –≤–∏–ø–∞–¥–∫–æ–≤–æ–≥–æ —Ñ–∞–∫—Ç—É
4. **–£—á–∞—Å–Ω–∏–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å** ‚Äî –Ω–∞—Ç–∏—Å–∫–∞—é—Ç—å –∫–Ω–æ–ø–∫—É "–î–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å" —ñ –ø–∏—à—É—Ç—å —Å–≤—ñ–π –≤–∞—Ä—ñ–∞–Ω—Ç –±–æ—Ç—É –≤ –æ—Å–æ–±–∏—Å—Ç—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
5. **–ì–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è** ‚Äî –ø—ñ—Å–ª—è –∑–±–æ—Ä—É –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π –±–æ—Ç —Å—Ç–≤–æ—Ä—é—î –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è –∑ —É—Å—ñ–º–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏ (–≤–∫–ª—é—á–∞—é—á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å)
6. **–†–µ–∑—É–ª—å—Ç–∞—Ç–∏** ‚Äî –±–æ—Ç –ø–æ–∫–∞–∑—É—î —Ö—Ç–æ –≤–≥–∞–¥–∞–≤ —Ç–∞ –Ω–∞—Ä–∞—Ö–æ–≤—É—î –±–∞–ª–∏

## üìä –°–∏—Å—Ç–µ–º–∞ –±–∞–ª—ñ–≤

- **+2 –±–∞–ª–∏** ‚Äî –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
- **+1 –±–∞–ª** ‚Äî –∑–∞ –∫–æ–∂–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è, —è–∫–∏–π –æ–±—Ä–∞–≤ –≤–∞—à –≤–∞—Ä—ñ–∞–Ω—Ç

## ‚öôÔ∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π

```bash
git clone https://github.com/timki0n/variants-tg-game.git
cd variants-tg-game
```

### 2. –°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ

```bash
python -m venv venv
source venv/bin/activate  # Linux/macOS
# –∞–±–æ
venv\Scripts\activate  # Windows
```

### 3. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

```bash
pip install -r requirements.txt
```

### 4. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°–∫–æ–ø—ñ—é–π—Ç–µ `.env.example` –≤ `.env` —Ç–∞ –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è:

```bash
cp .env.example .env
```

```env
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
OPENAI_API_KEY=your_openai_api_key_here
BOT_USERNAME=your_bot_username
```

- `TELEGRAM_BOT_TOKEN` ‚Äî –æ—Ç—Ä–∏–º–∞–π—Ç–µ —É [@BotFather](https://t.me/BotFather)
- `OPENAI_API_KEY` ‚Äî –æ—Ç—Ä–∏–º–∞–π—Ç–µ –Ω–∞ [platform.openai.com](https://platform.openai.com)
- `BOT_USERNAME` ‚Äî username –≤–∞—à–æ–≥–æ –±–æ—Ç–∞ (–±–µ–∑ @)

### 5. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞

```bash
python bot.py
```

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **[aiogram 3](https://docs.aiogram.dev/)** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram Bot API
- **[aiosqlite](https://aiosqlite.omnilib.dev/)** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ SQLite
- **[OpenAI API](https://platform.openai.com/docs)** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–∏—Ç–∞–Ω—å –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ñ–∞–∫—Ç—ñ–≤
- **[httpx](https://www.python-httpx.org/)** ‚Äî HTTP –∫–ª—ñ—î–Ω—Ç –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ñ–∞–∫—Ç—ñ–≤

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
variants-tg-game/
‚îú‚îÄ‚îÄ bot.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îú‚îÄ‚îÄ config.py           # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ database.py         # –†–æ–±–æ—Ç–∞ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ ai.py               # –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ OpenAI
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–æ—É—Ç–µ—Ä—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ game.py         # –õ–æ–≥—ñ–∫–∞ –≥—Ä–∏
‚îÇ   ‚îú‚îÄ‚îÄ start.py        # –ö–æ–º–∞–Ω–¥–∞ /start
‚îÇ   ‚îú‚îÄ‚îÄ variant.py      # –û–±—Ä–æ–±–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ poll.py         # –û–±—Ä–æ–±–∫–∞ –≥–æ–ª–æ—Å—É–≤–∞–Ω—å
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ .env.example        # –ü—Ä–∏–∫–ª–∞–¥ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚îî‚îÄ‚îÄ README.md
```

## üìù –ö–æ–º–∞–Ω–¥–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å |
|---------|------|
| `/game` | –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –≥—Ä—É (—Ç—ñ–ª—å–∫–∏ –≤ –≥—Ä—É–ø—ñ) |
| `/start` | –ü—Ä–∏–≤—ñ—Ç–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–≤ –æ—Å–æ–±–∏—Å—Ç–∏—Ö) |

## ‚è± –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–∞—Å—É

–í —Ñ–∞–π–ª—ñ `handlers/game.py` –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏:

```python
GAME_COOLDOWN = 10      # —Å–µ–∫—É–Ω–¥ –º—ñ–∂ —ñ–≥—Ä–∞–º–∏
COLLECTING_DURATION = 70 # —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –∑–±–æ—Ä—É –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
VOTING_DURATION = 30    # —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è
```

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License
